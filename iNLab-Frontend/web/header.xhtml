<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition >
        <div class="container-fluid" >
            <div class="row tituloprincipal" >
                <div class="col-sm-4">
                    IMAGEN - LOGO
                </div>
                <div class="col-sm-8">
                    <h1 class="tituloprincipal fuente"><abbr title="Ingreso de Muestras y Resultados" >iNLab</abbr> </h1> 
                </div>
            </div>
        </div>
        <nav class="navbar navbar-inverse menuprincipal" >
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>                        
                </button>
                <a class="navbar-brand" href="#{facesContext.externalContext.requestContextPath}/graficos/graficos.xhtml"><span class="glyphicon glyphicon-home"></span>Inicio</a>
            </div>

            <div class="collapse navbar-collapse" id="myNavbar" >
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Muestras<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <c:choose>
                                <c:when test="${sesionDeUsuario.usuarioLogueado != null}">
                                    <h:panelGroup rendered="${sesionDeUsuario.tipoUsuario == 'Administrador' || sesionDeUsuario.tipoUsuario == 'Verificador'}">
                                        <li><a href="#{facesContext.externalContext.requestContextPath}/muestras/altaespecificacionmuestra.xhtml"><span class="glyphicon glyphicon-plus"></span>Nueva Muestra</a></li>
                                        <li><hr class="dropdown-divider"/></li>
                                    </h:panelGroup>
                                </c:when>
                            </c:choose>
                            <li><a href="#{facesContext.externalContext.requestContextPath}/muestras/listaespecificacionesmuestras.xhtml?tipomuestra=Producto"><span class="glyphicon glyphicon-th-list"></span>Lista Producto</a>
                            </li>  
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestras/listaespecificacionesmuestras.xhtml?tipomuestra=Ambiente"><span class="glyphicon glyphicon-th-list"></span>Lista Ambiente</a>
                            </li>  
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestras/listaespecificacionesmuestras.xhtml?tipomuestra=Operario"><span class="glyphicon glyphicon-th-list"></span>Lista Operario</a>
                            </li>  
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestras/listaespecificacionesmuestras.xhtml?tipomuestra=Otra"><span class="glyphicon glyphicon-th-list"></span>Lista Otra</a>
                            </li>  
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestras/listaespecificacionesmuestras.xhtml?tipomuestra=Todas"><span class="glyphicon glyphicon-th-list"></span>Lista Todas</a>
                            </li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Muestreos<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <c:choose>
                                <c:when test="${sesionDeUsuario.usuarioLogueado != null}">
                                    <h:panelGroup rendered="${sesionDeUsuario.tipoUsuario == 'Administrador' || sesionDeUsuario.tipoUsuario == 'Verificador' || sesionDeUsuario.tipoUsuario=='Monitor'}">
                                        <li><a href="#{facesContext.externalContext.requestContextPath}/muestreos/altamuestreo.xhtml?tipomuestra=Producto"><span class="glyphicon glyphicon-plus"></span>Nuevo Producto</a></li>
                                        <li><a href="#{facesContext.externalContext.requestContextPath}/muestreos/altamuestreo.xhtml?tipomuestra=Ambiente"><span class="glyphicon glyphicon-plus"></span>Nuevo Ambiente</a></li>
                                        <li><a href="#{facesContext.externalContext.requestContextPath}/muestreos/altamuestreo.xhtml?tipomuestra=Operario"><span class="glyphicon glyphicon-plus"></span>Nuevo Operario</a></li>  
                                        <li><a href="#{facesContext.externalContext.requestContextPath}/muestreos/altamuestreo.xhtml?tipomuestra=Otra"><span class="glyphicon glyphicon-plus"></span>Otro Muestreo</a></li>  
                                        <li><hr class="dropdown-divider"/></li>
                                    </h:panelGroup>
                                </c:when>
                            </c:choose>

                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestreos/listamuestreos.xhtml?tipomuestra=Producto"><span class="glyphicon glyphicon-th-list"></span>Lista Producto</a>
                            </li>  
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestreos/listamuestreos.xhtml?tipomuestra=Ambiente"><span class="glyphicon glyphicon-th-list"></span>Lista Ambiente</a>
                            </li>  
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestreos/listamuestreos.xhtml?tipomuestra=Operario"><span class="glyphicon glyphicon-th-list"></span>Lista Operario</a>
                            </li>
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestreos/listamuestreos.xhtml?tipomuestra=Otra"><span class="glyphicon glyphicon-th-list"></span>Lista Otros Muestreos</a>
                            </li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Ensayos y Resultados<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <c:choose>
                                <c:when test="${sesionDeUsuario.usuarioLogueado != null}">
                                    <h:panelGroup rendered="${sesionDeUsuario.tipoUsuario == 'Administrador' || sesionDeUsuario.tipoUsuario == 'Verificador' || sesionDeUsuario.tipoUsuario =='Analista'}">
                                        <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/microbiologia/analisis/altaanalisisresultadomanual.xhtml"><span class="glyphicon glyphicon-plus"></span>Nuevo Analisis/Resultado</a>
                                        </li>
                                        <li><hr class="dropdown-divider"/></li> 
                                    </h:panelGroup>
                                </c:when>
                            </c:choose>
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestreos/listamuestreosconresultados.xhtml?tipomuestra=Producto"><span class="glyphicon glyphicon-th-list"></span>Listado Producto</a>
                            </li>  
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestreos/listamuestreosconresultados.xhtml?tipomuestra=Ambiente"><span class="glyphicon glyphicon-th-list"></span>Listado Ambiente</a>
                            </li>  
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestreos/listamuestreosconresultados.xhtml?tipomuestra=Operario"><span class="glyphicon glyphicon-th-list"></span>Listado Operario</a>
                            </li>     
                             <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/muestreos/listamuestreosconresultados.xhtml?tipomuestra=Otra"><span class="glyphicon glyphicon-th-list"></span>Listado de Otros Muestreos</a>
                            </li>     
                        </ul>
                    </li>

                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Configuraciones<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <c:choose>
                                <c:when test="${sesionDeUsuario.usuarioLogueado != null}">
                                    <h:panelGroup rendered="${sesionDeUsuario.tipoUsuario == 'Administrador' || sesionDeUsuario.tipoUsuario == 'Verificador'}">
                                        <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/microbiologia/laboratorios/altalaboratorio.xhtml"><span class="glyphicon glyphicon-plus"></span>Nuevo Laboratorio</a>
                                        </li>
                                        <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/destinos/altadestino.xhtml"><span class="glyphicon glyphicon-plus"></span>Nuevo Destino</a>
                                        </li>
                                         <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/microbiologia/ensayos/altaensayo.xhtml"><span class="glyphicon glyphicon-plus"></span>Nuevo Ensayo</a>
                                        </li>
                                        <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/areas/altaarea.xhtml"><span class="glyphicon glyphicon-plus"></span>Nueva Area</a>
                                        </li>
                                        <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/usuarios/altausuarios.xhtml"><span class="glyphicon glyphicon-plus"></span>Nuevo Usuario</a>
                                        </li>
                                        <li><hr class="dropdown-divider"/></li>
                                    </h:panelGroup>
                                </c:when>
                            </c:choose>
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/microbiologia/laboratorios/listalaboratorios.xhtml"><span class="glyphicon glyphicon-th-list"></span>Lista Laboratorios</a>
                            </li> 
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/microbiologia/ensayos/listaensayos.xhtml"><span class="glyphicon glyphicon-th-list"></span>Lista Ensayos</a>
                            </li> 
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/destinos/listadestinos.xhtml"><span class="glyphicon glyphicon-th-list"></span>Lista Destinos</a>
                            </li>
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/areas/listaareas.xhtml"><span class="glyphicon glyphicon-th-list"></span>Lista Areas</a>
                            </li>  
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/usuarios/listausuarios.xhtml"><span class="glyphicon glyphicon-th-list"></span>Lista Usuarios</a>
                            </li>                             
                        </ul>
                    </li>

                    <c:choose>
                        <c:when test="${sesionDeUsuario.usuarioLogueado != null}">
                            <h:panelGroup rendered="${sesionDeUsuario.tipoUsuario == 'Administrador' || sesionDeUsuario.tipoUsuario == 'Verificador'}">
                                <li class="dropdown">
                                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Revisiones<span class="caret"></span></a>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/revisiones/listarevisionesmuestreos.xhtml?tipomuestra=Producto"><span class="glyphicon glyphicon-th-list"></span>Producto</a>
                                        </li>  
                                        <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/revisiones/listarevisionesmuestreos.xhtml?tipomuestra=Ambiente"><span class="glyphicon glyphicon-th-list"></span>Ambiente</a>
                                        </li>  
                                        <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/revisiones/listarevisionesmuestreos.xhtml?tipomuestra=Operario"><span class="glyphicon glyphicon-th-list"></span>Operario</a>
                                        </li> 
                                         <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/revisiones/listarevisionesmuestreos.xhtml?tipomuestra=Otra"><span class="glyphicon glyphicon-th-list"></span>Otras Muestras</a>
                                        </li> 
                                    </ul>
                                </li>
                            </h:panelGroup>
                        </c:when>
                    </c:choose>     
                    <c:choose>
                        <c:when test="${sesionDeUsuario.usuarioLogueado != null}">                           
                                <li class="dropdown">
                                    <a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="glyphicon-user">
                                        
                                        </span>${sesionDeUsuario.usuarioLogueado.nombre}<span class="caret"></span></a>
                                    <ul class="dropdown-menu">
                                        <li>
                                           <h:form>
                                                <h:commandLink action="${sesionDeUsuario.cerrarSesion()}">
                                                    <span class="glyphicon glyphicon-log-out"></span>Salir
                                                </h:commandLink>
                                            </h:form>
                                        </li>  
                                        <li>
                                            <a href="#{facesContext.externalContext.requestContextPath}/usuarios/editarusuario.xhtml?iduser=#{sesionDeUsuario.usuarioLogueado.id}">
                                                <span class="glyphicon glyphicon-edit"></span>Editar</a>
                                        </li>
                                    </ul>
                                </li>
                        </c:when>
                        <c:otherwise>
                            <li class="dropdown">
                                <a class="dropdown-toggle" href="#{facesContext.externalContext.requestContextPath}/usuarios/login.xhtml"><span class="glyphicon-log-in">
                                    </span>Ingresar</a>
                            </li>
                        </c:otherwise>
                    </c:choose>     
                </ul>             
            </div>
        </nav>         
    </ui:composition>
</html>
