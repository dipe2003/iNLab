<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="../index.xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="page_content">
        <div class="panel-centrado">
            <h:form id="form-login-usuario">
                <h:outputLabel value="Ingresar al Sistema" />

                <h:panelGrid id="panel-mensajes">
                    <h:messages id="mensajes-vista" showSummary="true" errorClass="error" infoClass="info" warnClass="advertencia" />
                </h:panelGrid>

                <table class="tabla-login">
                    <tr>
                        <td>
                            <h:outputLabel value="Seleccionar Usuario:" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h:selectOneMenu id="select-usuario" value="#{loginDeUsuario.usuarioSeleccionado}" >
                                <f:selectItem  noSelectionOption="true" value="#{null}" itemLabel="-- Seleccionar Usuario --"/>
                                <f:selectItems value="#{loginDeUsuario.lstUsuarios}" var="usuario" itemValue="#{usuario.id}" itemLabel="#{usuario.nombre}" />                          
                            </h:selectOneMenu>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h:outputLabel value="Password:"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h:inputSecret id="input-password" value="#{loginDeUsuario.password}" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="panel-inferior-botones-login" >
                                <div>
                                    <h:commandButton id="boton-ingresar" action="#{loginDeUsuario.ingresar()}" value="Ingresar"  
                                                     class="boton-generico boton-aceptar">
                                        <f:ajax execute="@all"  delay="100" render="panel-mensajes" onevent="indicador" />
                                    </h:commandButton>
                                </div>
                                <div>
                                    <h:commandLink value="Ingresar como Visitante" action="#{facesContext.externalContext.redirect('/inlab/index.xhtml')}" 
                                                   class="boton-generico boton-aceptar"/>
                                </div>
                                <div>
                                    <h:commandLink value="Nuevo Usuario" action="#{facesContext.externalContext.redirect('/inlab/usuarios/altausuario.xhtml')}" 
                                                   class="boton-generico boton-aceptar"/>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </h:form>
        </div>
    </ui:define>
</ui:composition>